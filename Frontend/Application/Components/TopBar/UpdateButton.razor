@inject IJSRuntime JSRuntime
@inject DialogService DialogService

<RadzenButton Variant="Variant.Text" Style="display: none;" Click="@(() => Update())" class="topbar-icon" id="update-button">
	<LordIcon Icon="/system/solid/autorenew.json" Trigger="loop-on-hover" State="hover-autorenew" Size="24px" Target=".rz-button" Title="Atualizar Aplicativo" />
</RadzenButton>

@code {

	private async Task Update() {

		var result = await DialogService.Confirm("Uma atualização do aplicativo está disponível, deseja atualizar agora? Dados não salvos serão perdidos.", "Atualizar Aplicativo", new ConfirmOptions() {
				OkButtonText = "Atualizar",
				CancelButtonText = "Cancelar",
				AutoFocusFirstElement = false,
				CloseDialogOnOverlayClick = true,
				CloseDialogOnEsc = true
			});

		if (result ?? false) {

			await JSRuntime.InvokeVoidAsync("update");

		}

	}

}